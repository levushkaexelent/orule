<img width="1024" height="1024" alt="logo" src="https://github.com/user-attachments/assets/b0718e1c-fab0-4642-9ca8-37266b8e0d25" />

# ORULE - Менеджер правил для MoonLoader

**Версия:** 1.1  
**Автор:** Lev Exelent ([vk.com/e11evated](https://vk.com/e11evated))  
**Сервер:** Cyber Russia RP

---

## Описание

ORULE - это продвинутый менеджер правил с overlay-интерфейсом для сотрудников государственных организаций на сервере Cyber Russia. Скрипт позволяет быстро просматривать правила, законы и регламенты прямо в игре, не сворачивая окно.

---

## Основные возможности

- **Overlay-интерфейс** - просмотр правил поверх игры без сворачивания
- **Горячие клавиши** - назначьте свои биндки для каждого правила
- **Радиальное меню** - быстрый доступ к командам через среднюю кнопку мыши
- **Умный поиск** - находит информацию с учетом синонимов и контекста
- **Режим удержания** - показывайте правило только пока удерживаете клавишу
- **Настройка внешнего вида** - шрифт, прозрачность, размеры окон
- **Карты радаров** - интерактивная карта расположения радаров
- **Фотографии территорий** - визуальный справочник по закрытым зонам
- **Автообновление** - скрипт и ресурсы обновляются автоматически
- **9 готовых правил** для МВД с актуальной информацией
- **Полная законодательная база** (Конституция, УК, КоАП, ФЗ)
- **Информация о закрытых территориях** всех фракций

---

## Системные требования

- **GTA San Andreas** (любая версия)
- **SAMP** 0.3.7 или выше
- **MoonLoader** 0.26 или выше
- **Подключение к интернету** (для первого запуска)

---

## Установка

### Способ 1: Автоматическая установка (рекомендуется)

1. Скачайте файл `Orule.lua` из [релизов](https://github.com/levushkaexelent/orule/releases)
2. Поместите файл в папку `GTA San Andreas/moonloader/`
3. Запустите игру
4. Дождитесь автоматической загрузки ресурсов (1-2 минуты)
5. Готово! Используйте команду `/orule`

### Способ 2: Ручная установка

1. Скачайте весь репозиторий
2. Поместите `Orule.lua` в папку `moonloader/`
3. Создайте папку `moonloader/OverlayRules/`
4. Скопируйте содержимое папки `resources/` в `moonloader/OverlayRules/`
5. Запустите игру

---

## Быстрый старт

1. Откройте меню командой `/orule`
2. Перейдите во вкладку **"Правила"** и назначьте горячие клавиши
3. Настройте радиальное меню во вкладке **"Радиальное меню"**
4. Настройте внешний вид overlay во вкладке **"Настройки"**
5. Нажмите назначенную клавишу для открытия правила

---

## Управление

### Основные команды

- `/orule` - открыть/закрыть меню настроек
- `Средняя кнопка мыши (удерживать)` - радиальное меню
- `ESC` - закрыть overlay с правилом
- `Назначенная клавиша` - открыть/закрыть конкретное правило

### Радиальное меню

Удерживайте среднюю кнопку мыши и выберите действие:

1. **Мегафон** - предупреждение водителю через громкоговоритель
2. **Миранда** - чтение прав задержанному
3. **Обыск** - проведение обыска с нательной камерой и `/frisk`
4. **Удостоверение** - предъявление служебного удостоверения и `/doc`
5. **Фоторобот** - установление личности по фотографии
6. **Тонировка** - проверка тонировки тауметром

---

## Доступные правила

### Для полиции

1. **Правила для полицейских** - основной регламент работы МВД
   - Правила для полицейских
   - Правила использования радара
   - Порядок снятия масок
   - Регламент проверки тонировки

2. **Законодательная база**
   - Конституция РФ
   - Федеральное постановление
   - Уголовный кодекс
   - КоАП
   - Закон о полиции
   - Закон о ФСБ

3. **ФЗ "О закрытых и охраняемых территориях"**
   - Основные положения
   - Территории МВД
   - Территории ФСБ
   - Территории Армии
   - Территории ФСИН
   - Территории МЧС
   - Территории Больницы
   - Территории СМИ
   - Территории Правительства

4. **ФЗ "О системе нормативно-правовых актов"**
5. **Уголовно-процессуальный кодекс**
6. **Трудовой кодекс**
7. **Справочник сотрудника МВД**
8. **Правила строевого устава МВД**
9. **Устав МВД**

---

## Функции поиска

### Как пользоваться поиском

- Введите любое слово или фразу в поле поиска
- Используйте минус (`-`) для исключения слов (например: `радар -скорость`)
- Поиск работает с учетом синонимов и контекста
- Результаты отсортированы по релевантности

### Примеры поисковых запросов

- `тонировка` - найдёт правила проверки тонировки
- `задержание` - найдёт информацию об аресте и задержании
- `закрытая территория` - найдёт ФЗ о ЗТ
- `радар -скорость` - найдёт информацию о радаре, исключив упоминания скорости

---

## Настройка

### Горячие клавиши

1. Откройте вкладку **"Правила"**
2. Нажмите **"Назначить клавишу"** для нужного правила
3. Нажмите желаемую клавишу (поддерживаются кнопки мыши)
4. Включите **"Режим удержания"** если хотите показывать правило только при зажатой клавише

### Радиальное меню

1. Откройте вкладку **"Радиальное меню"**
2. Включите/выключите глобальное использование меню
3. Настройте названия кнопок (изменение названия не влияет на действие)
4. Включите/выключите отдельные кнопки

### Внешний вид

1. Откройте вкладку **"Настройки"**
2. Настройте прозрачность фона overlay (0.0 - 1.0)
3. Измените размер шрифта (12 - 32)
4. Настройте расстояние между строками (0.0 - 1.0)
5. Измените команду активации (по умолчанию `/orule`)

---

## Автообновление

### Как это работает

- Скрипт автоматически проверяет обновления при запуске
- Текстовые файлы обновляются автоматически (если включено)
- Шрифты и изображения обновляются всегда
- Версия скрипта проверяется через GitHub

### Отключение автообновления текстов

Если вы изменили текстовые файлы правил:

1. Откройте `/orule` → **"Настройки"**
2. Снимите галочку **"Автоматически обновлять текстовые файлы"**
3. Нажмите **"Сохранить настройки команды"**

---
## Редактирование правил

### Как изменить текст правил

1. Откройте файл в папке `moonloader/OverlayRules/texts/`
2. Измените текст в любом текстовом редакторе
3. **ВАЖНО:** Отключите автообновление текстов в настройках!
4. Сохраните файл в кодировке **CP1251** или **UTF-8**

### Форматирование текста

Поддерживаются цветовые коды в формате `{RRGGBB}`:


{FFFFFF}Белый текст
{FF0000}Красный текст
{00FF00}Зелёный текст
{0000FF}Синий текст

---

## Часто задаваемые вопросы

### Скрипт не запускается

- Проверьте версию MoonLoader (требуется 0.26+)
- Убедитесь, что файл `Orule.lua` находится в папке `moonloader/`
- Проверьте логи MoonLoader в `moonloader.log`

### Не загружаются ресурсы

- Проверьте подключение к интернету
- Убедитесь, что брандмауэр не блокирует подключение к GitHub
- Попробуйте ручную установку

### Изменения в текстах не сохраняются

- Отключите автообновление текстов в настройках
- Сохраняйте файлы в кодировке CP1251 или UTF-8
- Убедитесь, что файлы не защищены от записи

### Клавиша не регистрируется

- Проверьте, не занята ли клавиша другими скриптами
- Попробуйте назначить другую клавишу
- Убедитесь, что вы не находитесь в режиме захвата клавиш

### Радиальное меню не открывается

- Убедитесь, что радиальное меню включено в настройках
- Проверьте, что средняя кнопка мыши работает
- Попробуйте переназначить кнопку в настройках

---

## Известные проблемы

- При первом запуске возможна задержка загрузки интерфейса (1-2 секунды)
- В редких случаях текстуры территорий могут не загрузиться (перезапустите скрипт)
- Некоторые шрифты могут некорректно отображаться на старых версиях Windows

---

## Changelog

### Версия 1.1 (08.11.2025)

- Первый публичный релиз
- 9 готовых правил для МВД
- Полная законодательная база
- Информация о закрытых территориях всех фракций
- Интерактивные карты радаров и фотографии территорий
- Радиальное меню с настраиваемыми кнопками
- Умный поиск с синонимами
- Автообновление скрипта и ресурсов
- Селективное обновление текстовых файлов
- Гибкая система настройки

---

## Контакты

- **VK:** [vk.com/e11evated](https://vk.com/e11evated)
- **GitHub:** [github.com/levushkaexelent/orule](https://github.com/levushkaexelent/orule)

---

## Лицензия

Этот проект распространяется бесплатно для использования на сервере Cyber Russia RP.

**Запрещено:**
- Продавать скрипт или его части
- Выдавать за своё творчество
- Использовать на других проектах без разрешения автора

**Разрешено:**
- Использовать на Cyber Russia RP
- Модифицировать для личного использования
- Делиться ссылкой на GitHub репозиторий

---

## Благодарности

- **Cyber Russia RP** - за возможность создания скрипта
- **MoonLoader Team** - за отличный фреймворк
- **mimgui** - за библиотеку интерфейса

---

**Приятной игры!**
